<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Dashboard de Vencimentos de Treinamentos</title>
  <link rel="stylesheet" href="styles.css"/>
  <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
</head>
<body>
  <div class="header">
    <div class="title">Dashboard de Vencimentos de Treinamentos</div>
    <div class="updated">Atualizado em 12/02/2026</div>
  </div>
  <div class="container">
    <div class="cards">
      <div class="card"><div class="label">Registros</div><div class="value" id="kpi-registros">0</div></div>
      <div class="card"><div class="label">Críticos (Vencidos + ≤30)</div><div class="value" id="kpi-criticos">0</div></div>
      <div class="card"><div class="label">Vencidos</div><div class="value" id="kpi-vencidos">0</div></div>
      <div class="card"><div class="label">≤ 30 dias</div><div class="value" id="kpi-30">0</div></div>
      <div class="card"><div class="label">31–60 dias</div><div class="value" id="kpi-60">0</div></div>
      <div class="card"><div class="label">61–90 / >90</div><div class="value" id="kpi-90">0 / 0</div></div>
    </div>

    <div class="panel">
      <div class="filters">
        <label>Colaborador:
          <select id="f-colab"></select>
        </label>
        <label>Buscar treinamento:
          <input type="text" id="f-busca" placeholder="Digite parte do nome..."/>
        </label>
        <label class="checkbox">
          <input type="checkbox" id="f-critico"/>
          <span>Somente críticos (Vencido/≤30)</span>
        </label>
        <div class="legend">
          <span><span class="dot" style="background:#ef4444"></span>Vencido</span>
          <span><span class="dot" style="background:#f59e0b"></span>≤30</span>
          <span><span class="dot" style="background:#facc15"></span>31–60</span>
          <span><span class="dot" style="background:#86efac"></span>61–90</span>
          <span><span class="dot" style="background:#22c55e"></span>>90</span>
          <a id="btn-csv" class="btn" href="#">Baixar CSV</a>
        </div>
      </div>
      <div class="section-title" id="chart-title">Treinamentos — Todos</div>
      <div id="plot" class="plot"></div>
    </div>

    <div class="panel" style="margin-top:14px">
      <div class="section-title">Próximos vencimentos (Top 20)</div>
      <table class="table" id="tbl">
        <thead>
          <tr>
            <th>Colaborador</th>
            <th>Treinamento</th>
            <th>Data</th>
            <th>Dias</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
